<section class="content-wrapper">
    <h3>Media Library</h3>
    <form id="sky-form3" class="sky-form" novalidate [formGroup]="mediaLibraryForm">
        <fieldset>
            <div class="row">
                <section>
                    <label class="label">Select File to Upload</label>
                    <label class="input col col-6">
                        <input type="file" multiple (change)="handleFileInput($event.target.files)">
                    </label>
                </section>
            </div>
        </fieldset>
    </form>
    <div class="col col-10 margin-top-20">
        <ngx-datatable class='table bootstrap' [columnMode]="'flex'" [headerHeight]="30" [rowHeight]="'auto'" [rows]='files'>
            <ngx-datatable-column name="Access Level" prop="mediaType.title" [flexGrow]="1"></ngx-datatable-column>
            <ngx-datatable-column name="Name" prop="fileName" [flexGrow]="2"></ngx-datatable-column>
            <ngx-datatable-column name="Size (KB)" prop="fileSize" [flexGrow]="1"></ngx-datatable-column>
            <ngx-datatable-column name="Preview" prop="Preview" [flexGrow]="3">
                <ng-template let-rowIndex="rowIndex" let-id="value" let-row="row" ngx-datatable-cell-template>
                    <img [src]="getTrustedUrl(row['onDiskName'])" class="media-library-preview" />
                </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Actions" [flexGrow]="1" [sortable]="false">
                <ng-template let-rowIndex="rowIndex" let-id="value" let-row="row" ngx-datatable-cell-template>
                    <button type="button" class="btn btn-default" (click)="removeFile(row['id'])">
                        <span class="fa fa-close"></span>
                    </button>
                </ng-template>
            </ngx-datatable-column>
        </ngx-datatable>
    </div>
</section>